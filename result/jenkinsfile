pipeline {
    agent {
     docker {
        image 'nodejs:erbium-stretch' 
        args '-v $HOME/.m2:/root/.m2'
    }
    }
stages{
    stage (build){
    
    steps{

      echo 'Compiling result app'
      dir ('result'){
           sh 'npm install'
        }
        
    }
 }


    stage (Test){
  
    steps{

      echo 'Compiling result app'
      dir('result'){
                  sh 'npm install'
                  sh 'npm test'
                }
        
    }
}
}
}