pipeline {
    agent any
    tools{
      nodejs 'Nodejs 8.9.0'
}
stages{
    stage (build){
             when{
                changeset "**/result/**"
            }
    steps{

      echo 'Compiling result app'
      dir ('worker'){
           sh 'npm install'
                }
        
    }
 }
}
stages{
    stage (Test){
      when{
                changeset "**/result/**"
            }
    steps{

      echo 'Compiling result app'
      dir('result'){
                  sh 'npm install'
                  sh 'npm test'
                }
        
    }
}
}
}