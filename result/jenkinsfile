pipeline {
    agent any
    tools{
      nodejs 'Nodejs 8.9.0'
}
stages{
    stage ('build'){
             when{
                changeset "**/worker/**"
            }
    steps{

      echo 'Compiling worker app'
      dir('result'){
                  sh 'npm install'
                }
        
    }
 }
}
stages{
    stage ('Test'){
      when{
                changeset "**/worker/**"
            }
    steps{

      echo 'Compiling worker app'
      dir('result'){
                  sh 'npm install'
                  sh 'npm test'
                }
        
    }
}
}
}